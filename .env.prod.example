# ============================================
# PRODUCTION ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env.prod and fill in the actual values
# NEVER commit .env.prod to version control!

# ============================================
# Django Core Settings
# ============================================
# Generate a strong secret key using: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=your-secret-key-here-change-this-to-a-random-50-character-string

# MUST be False in production
DEBUG=False

# Add your domain names separated by commas
ALLOWED_HOSTS=polis.insflow.ru,www.polis.insflow.ru

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# These should match the values in .env.prod.db
DB_NAME=insurance_broker_prod
DB_USER=postgres
DB_PASSWORD=your-strong-database-password-here
DB_HOST=db
DB_PORT=5432

# ============================================
# Celery Configuration (Redis)
# ============================================
# Redis is used as message broker for Celery background tasks
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ============================================
# Email Configuration (SMTP)
# ============================================
# For production, use a real SMTP backend
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True

# Gmail: Use an App Password (not your regular password)
# https://support.google.com/accounts/answer/185833
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password-here

# Default 'from' email address
DEFAULT_FROM_EMAIL=noreply@polis.insflow.ru

# ============================================
# Security Settings
# ============================================
# Force HTTPS redirect
SECURE_SSL_REDIRECT=True

# HTTP Strict Transport Security (HSTS)
# Tells browsers to only use HTTPS for this domain
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# Secure cookies
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# Content Security Policy
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# ============================================
# Static and Media Files
# ============================================
# These paths are used inside Docker containers
STATIC_ROOT=/app/staticfiles
MEDIA_ROOT=/app/media

# URL paths for serving files
STATIC_URL=/static/
MEDIA_URL=/media/

# ============================================
# Logging Configuration
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ============================================
# Error Monitoring (Sentry)
# ============================================
# Get your DSN from https://sentry.io/settings/projects/
# Format: https://[key]@[organization].ingest.sentry.io/[project-id]
SENTRY_DSN=

# Optional: Release version for tracking deployments
# Can be git commit hash, version number, etc.
SENTRY_RELEASE=1.0.0

# ============================================
# Optional: Third-party Services
# ============================================

# Uncomment if using AWS S3 for static/media files
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_STORAGE_BUCKET_NAME=your-bucket-name
# AWS_S3_REGION_NAME=us-east-1

# ============================================
# Application-Specific Settings
# ============================================
# Add any custom application settings here
# COMMISSION_RATE=0.15
# PAYMENT_REMINDER_DAYS=7

# ============================================
# Telegram Backup Notifications
# ============================================
# Get bot token from @BotFather in Telegram
TELEGRAM_BOT_TOKEN=

# Chat or channel ID for notifications (starts with - for channels)
# Get from https://api.telegram.org/bot<TOKEN>/getUpdates after sending a message
TELEGRAM_CHAT_ID=

# Enable/disable Telegram notifications (true/false)
TELEGRAM_ENABLED=false

# Enable/disable file uploads to Telegram (true/false)
TELEGRAM_UPLOAD_FILES=true

# Maximum file size for upload in MB (Telegram Bot API limit: 50MB)
TELEGRAM_MAX_FILE_SIZE=45
